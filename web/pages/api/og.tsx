import Meta from '../../meta.json';
import { ImageResponse } from '@vercel/og';
import { NextRequest } from 'next/server';

export const config = {
  runtime: 'edge'
};

function DefaultResponse() {
  return new ImageResponse(
    (
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="1200"
        height="630"
        fill="none"
      >
        <path fill="url(#a)" d="M0 0h1200v630H0z" />
        <path
          fill="#fff"
          d="M526.028 329v-28.896h9.282V329h-9.282Zm35.476-28.896h11.508l-10.374 11.886L573.222 329H562.26l-6.006-10.584-5.04 4.116V329h-9.282v-28.896h9.282v12.348l10.29-12.348Zm28.343-.504c4.984 0 8.834 1.274 11.55 3.822 2.716 2.548 4.074 6.258 4.074 11.13 0 4.872-1.358 8.582-4.074 11.13-2.716 2.548-6.566 3.822-11.55 3.822-4.984 0-8.834-1.26-11.55-3.78-2.688-2.548-4.032-6.272-4.032-11.172s1.344-8.61 4.032-11.13c2.716-2.548 6.566-3.822 11.55-3.822Zm0 6.93c-1.988 0-3.5.602-4.536 1.806-1.036 1.204-1.554 2.828-1.554 4.872v2.688c0 2.044.518 3.668 1.554 4.872 1.036 1.204 2.548 1.806 4.536 1.806 1.988 0 3.5-.602 4.536-1.806 1.064-1.204 1.596-2.828 1.596-4.872v-2.688c0-2.044-.532-3.668-1.596-4.872-1.036-1.204-2.548-1.806-4.536-1.806ZM631.133 329l-12.138-14.028V329h-8.526v-28.896h8.106l12.138 14.238v-14.238h8.526V329h-8.106Zm28.687-29.4c4.984 0 8.834 1.274 11.55 3.822 2.716 2.548 4.074 6.258 4.074 11.13 0 4.872-1.358 8.582-4.074 11.13-2.716 2.548-6.566 3.822-11.55 3.822-4.984 0-8.834-1.26-11.55-3.78-2.688-2.548-4.032-6.272-4.032-11.172s1.344-8.61 4.032-11.13c2.716-2.548 6.566-3.822 11.55-3.822Zm0 6.93c-1.988 0-3.5.602-4.536 1.806-1.036 1.204-1.554 2.828-1.554 4.872v2.688c0 2.044.518 3.668 1.554 4.872 1.036 1.204 2.548 1.806 4.536 1.806 1.988 0 3.5-.602 4.536-1.806 1.064-1.204 1.596-2.828 1.596-4.872v-2.688c0-2.044-.532-3.668-1.596-4.872-1.036-1.204-2.548-1.806-4.536-1.806Z"
        />
        <path
          fill="#6999FE"
          fill-rule="evenodd"
          d="M950.761 316.51c0 7.042-5.709 12.75-12.75 12.75s-12.749-5.708-12.749-12.75c0-4.896 2.76-9.148 6.81-11.284.482-.255.808-.743.808-1.288 0-.95-.941-1.61-1.789-1.183-5.026 2.534-8.474 7.742-8.474 13.755 0 8.502 6.892 15.394 15.394 15.394 8.502 0 15.394-6.892 15.394-15.394 0-6.013-3.448-11.221-8.474-13.755-.848-.427-1.789.233-1.789 1.183 0 .545.326 1.033.809 1.288a12.75 12.75 0 0 1 6.81 11.284Z"
          clip-rule="evenodd"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M937.911 299.406v17.205"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M1109.96 322.786v4.808c0 .974-.79 1.763-1.76 1.763h-14.81c-.97 0-1.76-.789-1.76-1.763v-25.376c0-.974.79-1.763 1.76-1.763h14.81c.97 0 1.76.789 1.76 1.763v4.459m-7.38 8.229h20.3m0 0-5.53-6.46m5.53 6.46-5.53 6.46M85.56 418.111h-5.303a.882.882 0 0 0-.882.882v23.509c0 .487.395.882.882.882h25.453a.882.882 0 0 0 .882-.882v-23.509a.882.882 0 0 0-.882-.882h-5.304m-7.423-5.832v21.384m0 0 5.832-5.831m-5.832 5.831-5.832-5.832"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M79.375 441.439h27.217m161.254-22.854h-18.65a2.644 2.644 0 0 0-2.644 2.644v14.967a2.644 2.644 0 0 0 2.644 2.644h18.65a2.644 2.644 0 0 0 2.644-2.644v-3.286c0-.248.249-.419.48-.329l5.733 2.215a.882.882 0 0 0 1.2-.822v-10.42a.881.881 0 0 0-1.288-.782l-5.61 2.911a.352.352 0 0 1-.515-.313v-4.141a2.644 2.644 0 0 0-2.644-2.644Z"
        />
        <path
          fill="#6999FE"
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M436.852 418.585h-18.65a2.644 2.644 0 0 0-2.644 2.644v14.967a2.644 2.644 0 0 0 2.644 2.644h18.65a2.644 2.644 0 0 0 2.644-2.644v-3.286c0-.248.249-.419.48-.329l5.733 2.215a.881.881 0 0 0 1.199-.822v-10.42a.88.88 0 0 0-1.287-.782l-5.61 2.911a.352.352 0 0 1-.515-.313v-4.141a2.644 2.644 0 0 0-2.644-2.644Zm158.532 5.728v-7.385a4.615 4.615 0 1 1 9.231 0v7.385a4.616 4.616 0 0 1-9.231 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M591.691 430.774c1.136 4.038 4.253 6.462 8.308 6.462m0 0c4.056 0 7.173-2.424 8.309-6.462m-8.309 6.462v6.462"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M933.392 424.296v-7.392a4.619 4.619 0 0 1 9.239 0v7.392a4.62 4.62 0 0 1-9.239 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M929.696 430.763c1.137 4.041 4.256 6.468 8.316 6.468m0 0c4.059 0 7.178-2.427 8.315-6.468m-8.315 6.468v6.467m-181.944-29.656 25.874 25.875"
        />
        <path
          fill="#6999FE"
          fill-rule="evenodd"
          d="M764.671 415.21a4.62 4.62 0 0 1 8.954 1.605v7.35l-8.954-8.955Zm5.875 13.355-6.161-6.161v1.803a4.62 4.62 0 0 0 6.161 4.358Z"
          clip-rule="evenodd"
        />
        <path
          fill="#6999FE"
          d="m764.671 415.21-.935.935-.599-.599.294-.795 1.24.459Zm8.954 8.955h1.323v3.192l-2.257-2.257.934-.935Zm-3.079 4.4.935-.935 1.482 1.482-1.976.699-.441-1.246Zm-6.161-6.161h-1.322v-3.192l2.257 2.257-.935.935Zm-.954-7.653a5.944 5.944 0 0 1 5.574-3.879v2.645a3.3 3.3 0 0 0-3.094 2.152l-2.48-.918Zm5.574-3.879a5.943 5.943 0 0 1 5.943 5.943h-2.645a3.297 3.297 0 0 0-3.298-3.298v-2.645Zm5.943 5.943v7.35h-2.645v-7.35h2.645Zm-9.342-2.54 8.954 8.955-1.869 1.87-8.955-8.955 1.87-1.87Zm4.005 15.225-6.161-6.161 1.87-1.87 6.161 6.161-1.87 1.87Zm-6.548-5.293v-1.803h2.644v1.803h-2.644Zm5.942 5.943a5.942 5.942 0 0 1-5.942-5.943h2.644a3.299 3.299 0 0 0 3.298 3.299v2.644Zm1.982-.339a5.932 5.932 0 0 1-1.982.339v-2.644c.388 0 .758-.067 1.1-.188l.882 2.493Z"
        />
        <path
          fill="#6999FE"
          fill-rule="evenodd"
          d="M761.962 430.318a1.322 1.322 0 1 0-2.546.716c1.165 4.143 4.233 6.868 8.267 7.354v5.225a1.322 1.322 0 0 0 2.645 0v-5.225c2.192-.264 4.099-1.19 5.571-2.645l-1.87-1.87c-1.287 1.266-3.016 1.949-5.024 1.949-3.439 0-6.059-2.005-7.043-5.504Zm13.596 1.345c.193-.42.357-.869.491-1.345a1.322 1.322 0 1 1 2.546.716 11.422 11.422 0 0 1-1.075 2.59l-1.962-1.961Z"
          clip-rule="evenodd"
        />
        <path
          fill="#6999FE"
          d="m89.875 543.789 1.674-11.103c.13-.862.871-1.5 1.744-1.5h.386c1.098 0 1.928.992 1.736 2.072l-2.94 16.528a1.763 1.763 0 0 1-1.736 1.454h-1.138a1.763 1.763 0 0 1-1.73-1.42l-2.06-10.397-2.034 10.393a1.763 1.763 0 0 1-1.73 1.424h-1.15a1.763 1.763 0 0 1-1.736-1.453l-2.951-16.528a1.763 1.763 0 0 1 1.736-2.073h.411c.873 0 1.614.639 1.743 1.502l1.662 11.087 2.086-11.15a1.763 1.763 0 0 1 1.733-1.439h.475c.848 0 1.577.605 1.733 1.439l2.086 11.164Zm19.22.771c.502 0 .907.42.848.919-.216 1.837-.834 3.261-1.855 4.274-1.184 1.175-2.855 1.763-5.013 1.763-2.268 0-4.008-.744-5.22-2.232-1.203-1.496-1.805-3.627-1.805-6.39v-3.375c0-2.755.625-4.876 1.874-6.363 1.248-1.497 2.984-2.245 5.206-2.245 2.185 0 3.843.61 4.972 1.832.977 1.048 1.593 2.489 1.846 4.322.07.506-.337.939-.848.939h-2.26c-.478 0-.864-.382-.909-.857-.091-.958-.295-1.646-.611-2.063-.395-.542-1.125-.813-2.19-.813-1.084 0-1.85.382-2.3 1.144-.45.753-.689 1.997-.717 3.732v3.788c0 1.992.221 3.361.662 4.104.449.744 1.216 1.116 2.3 1.116 1.065 0 1.799-.257 2.203-.771.315-.407.523-1.067.627-1.98.053-.47.436-.844.909-.844h2.281Zm149.348.018-2.814-11.659h2.814l.391 3.238 1.016 8.421h-1.407Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="m276.032 551.137-3.518 2.186-4.221-8.745h-8.443m0 0h-1.407l-2.814-11.659h2.814l.391 3.238m1.016 8.421-1.016-8.421m0 0h6.212"
        />
        <path
          fill="#6999FE"
          fill-rule="evenodd"
          d="M268.428 551.496c-.633-.633-1.723-.411-2.245.317a7.827 7.827 0 1 1-11.845-10.146c.412-.403.613-.992.447-1.544-.263-.878-1.294-1.262-1.975-.648a10.446 10.446 0 0 0-3.459 7.777c0 5.783 4.688 10.471 10.471 10.471a10.46 10.46 0 0 0 8.791-4.781c.298-.46.203-1.059-.185-1.446Z"
          clip-rule="evenodd"
        />
        <path
          fill="#6999FE"
          stroke="#6999FE"
          stroke-width="2.644"
          d="M259.015 526.74a1.816 1.816 0 1 1-3.632.002 1.816 1.816 0 0 1 3.632-.002Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M437.648 529.989H415.47v12.808c-.001 5.338 5.543 8.539 11.089 8.539 5.545 0 11.089-3.201 11.089-8.539v-2.135m0-10.673c4.435 0 8.871 1.405 8.871 5.337 0 3.932-2.218 6.404-8.871 5.336m0-10.673v10.673m153.076 15.568h9.275m9.276 0h-9.276m0 0v-13.838m0 0h-7.566c-2.461 0-4.165-2.456-3.303-4.76l3.829-10.246a3.527 3.527 0 0 1 3.303-2.292h7.961c1.508 0 2.85.96 3.337 2.388l3.496 10.245c.781 2.288-.92 4.665-3.337 4.665h-7.72Zm180.737-12.169h-23.462a3.526 3.526 0 0 0-3.526 3.526v13.826a3.526 3.526 0 0 0 3.526 3.526h23.462a3.525 3.525 0 0 0 3.526-3.526v-13.826a3.526 3.526 0 0 0-3.526-3.526Z"
        />
        <path
          fill="#6999FE"
          fill-rule="evenodd"
          d="M775.429 536.647c-.47 0-.803.419-.803.889v6.253c0 .47.333.888.803.888a4.015 4.015 0 1 0 0-8.03Zm-12.848 0c.471 0 .803.419.803.889v6.253c0 .47-.332.888-.803.888a4.015 4.015 0 1 1 0-8.03Z"
          clip-rule="evenodd"
        />
        <path
          fill="#6999FE"
          d="M766.597 538.41c0-.974.789-1.763 1.763-1.763h1.292c.973 0 1.763.789 1.763 1.763v4.504c0 .974-.79 1.763-1.763 1.763h-1.292a1.763 1.763 0 0 1-1.763-1.763v-4.504Z"
        />
        <path
          stroke="#6999FE"
          stroke-width="2.644"
          d="M955.201 541.103c0 9.25-7.499 16.748-16.749 16.748-9.249 0-16.748-7.498-16.748-16.748s7.499-16.748 16.748-16.748c9.25 0 16.749 7.498 16.749 16.748Z"
        />
        <path
          stroke="#6999FE"
          stroke-width="2.644"
          d="M943.507 541.103a5.056 5.056 0 1 1-10.113 0 5.056 5.056 0 0 1 10.113 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M1121.12 545.951v-14.985m-17.63 19.393v-14.986m17.63-4.407v-3.913a1.763 1.763 0 0 0-2.19-1.71l-14.1 3.526a1.76 1.76 0 0 0-1.34 1.71v4.794m17.63-4.407-17.63 4.407"
        />
        <path
          stroke="#6999FE"
          stroke-width="2.644"
          d="M1109.72 546.833c0 2.517 2.39 4.848 5.73 4.848 3.33 0 5.73-2.331 5.73-4.848 0-2.518-2.4-4.849-5.73-4.849-3.34 0-5.73 2.331-5.73 4.849Zm-17.73 3.526c0 2.517 2.4 4.848 5.73 4.848 3.34 0 5.73-2.331 5.73-4.848 0-2.518-2.39-4.849-5.73-4.849-3.33 0-5.73 2.331-5.73 4.849Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M256.432 199.853v14.82m0-14.82h11.115m-11.115 0h-5.558m5.558 14.82h-3.479c-.7 0-1.334-.414-1.615-1.056l-4.941-11.294a1.763 1.763 0 0 1 1.615-2.47h2.862m5.558 14.82h11.115m0-14.82v14.82m0-14.82h5.557m-5.557 14.82h4.335c.735 0 1.393-.455 1.651-1.144l4.235-11.294a1.762 1.762 0 0 0-1.65-2.382h-3.014m-22.23 0 9.924-9.097a1.764 1.764 0 0 1 2.382 0l9.924 9.097m333.878 3.177v-9.188m-4.655 9.188v-13.208m-4.655 13.208v-13.208m-4.655 17.803v-7.792m0 0v-10.011c0-2.298 4.655-2.298 4.655 0m-4.655 10.011c0-2.297-4.655-2.297-4.655 0v11.237c0 9.189 23.274 9.189 23.274 0v-17.228c0-2.298-4.654-2.298-4.654 0m0 0v-4.02c0-2.07-4.668-1.93-4.655 0m0 0v-1.723c0-2.297-4.655-2.297-4.655 0v1.723m179.767 9.831c0 2.245 0-2.245 0 0Zm0 0v4.489m0-4.489c0-2.245 4.686-2.245 4.686 0v11.784c0 8.979-20.082 9.055-23.68 0-1.335-3.359-1.103-2.64-2.33-5.554-1.226-2.913 2.811-4.65 4.425-1.741 1.614 2.91 2.844 7.525 2.844 5.612v-21.933c0-2.245 4.685-2.245 4.685 0m9.37 11.832c0-2.245-4.701-2.245-4.685 0m0 0c0-2.245-4.685-2.245-4.685 0v-11.832m4.685 11.832c0 .536 0-.583 0 0Zm0 0c.024 3.367 0 4.489 0 4.489m-4.685 0v-16.321m344.631 22.695-2.57 3.095c-.92 1.104-2.71.703-3.07-.689l-3.6-13.986c-.42-1.637 1.48-2.871 2.81-1.821l11.44 9.082c1.13.893.77 2.687-.61 3.078l-4.4 1.241Zm0 0 5.32 8.393m-24.06-28.108 4.34 2.458m4.8-7.83.04 4.986"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="m1107.67 193.455 5.07-3.007m-19.12 11.176 5.08-3.007"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M98.272 323.085v-16.17c0-1.57-1.9-2.357-3.01-1.246l-3.526 3.526c-.33.33-.78.516-1.247.516h-2.795c-.974 0-1.763.789-1.763 1.763v7.052c0 .974.789 1.763 1.763 1.763h2.795c.468 0 .916.186 1.247.516l3.526 3.526c1.11 1.111 3.01.324 3.01-1.246Zm161.954 0v-16.17c0-1.57-1.899-2.357-3.01-1.246l-3.526 3.526c-.331.33-.779.516-1.247.516h-2.795c-.974 0-1.763.789-1.763 1.763v7.052c0 .974.789 1.763 1.763 1.763h2.795c.468 0 .916.186 1.247.516l3.526 3.526c1.111 1.111 3.01.324 3.01-1.246Zm15.866-12.492-8.815 8.814m8.816 0-8.815-8.814"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="m85.488 96.832 14.989-14.989"
        />
        <circle cx="99.541" cy="95.895" r="2.81" fill="#6999FE" />
        <circle cx="86.426" cy="82.78" r="2.81" fill="#6999FE" />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="m422.18 98.153 17.63-17.63"
        />
        <circle
          cx="438.047"
          cy="96.39"
          r="3.967"
          stroke="#6999FE"
          stroke-width="2.644"
        />
        <circle
          cx="423.942"
          cy="82.286"
          r="3.967"
          stroke="#6999FE"
          stroke-width="2.644"
        />
        <path
          fill="#6999FE"
          d="M600.325 79.641a2.644 2.644 0 1 1-5.289 0 2.644 2.644 0 0 1 5.289 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="3.526"
          d="M600 101.187V87.083h-5.289M600 101.187h3.526"
        />
        <path
          fill="#6999FE"
          d="M769.71 82.358a1.903 1.903 0 1 1-3.806 0 1.903 1.903 0 0 1 3.806 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M765.903 87.787h3.102v7.755h3.102"
        />
        <circle
          cx="769.005"
          cy="89.338"
          r="15.739"
          stroke="#6999FE"
          stroke-width="2.644"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="3.526"
          d="M938.012 92.864v-2.645c0-1.45 6.17-1.763 6.17-6.17 0-2.645-2.644-4.408-6.17-4.408-2.645 0-5.289 1.763-5.289 4.408"
        />
        <path
          fill="#6999FE"
          d="M940.175 98.07a2.164 2.164 0 1 1-4.327 0 2.164 2.164 0 0 1 4.327 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M1107.02 92.44v-3.102s4.65-.983 4.65-3.878-3.22-3.877-4.65-3.877c-1.43 0-4.66.775-4.66 3.877"
        />
        <path
          fill="#6999FE"
          d="M1108.92 97.02c0 1.052-.85 1.904-1.9 1.904a1.91 1.91 0 0 1-1.91-1.904 1.91 1.91 0 0 1 1.91-1.903c1.05 0 1.9.852 1.9 1.903Z"
        />
        <circle
          cx="1107.02"
          cy="89.338"
          r="15.739"
          stroke="#6999FE"
          stroke-width="2.644"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="M252.016 89.338h19.946"
        />
        <circle
          cx="261.989"
          cy="98.064"
          r="2.644"
          fill="#6999FE"
          transform="rotate(45 261.989 98.064)"
        />
        <circle
          cx="261.989"
          cy="80.611"
          r="2.644"
          fill="#6999FE"
          transform="rotate(45 261.989 80.611)"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="m97.39 203.932 3.527 6.17m-3.526-6.17h3.526c.973 0 1.763-.789 1.763-1.763v-10.578m-5.29 12.341H84.377a1.762 1.762 0 0 1-1.577-.975l-4.407-8.815a1.763 1.763 0 0 1 1.577-2.551h22.71m-1.763 18.511H82.405m18.512 0h1.763m0-18.511 1.275-2.552a1.763 1.763 0 0 1 1.577-.974h2.436"
        />
        <path
          stroke="#6999FE"
          stroke-width="2.644"
          d="M86.372 214.086a3.967 3.967 0 1 1-7.934 0 3.967 3.967 0 0 1 7.934 0Zm21.155 0a3.967 3.967 0 1 1-7.934 0 3.967 3.967 0 0 1 7.934 0Z"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-width="2.644"
          d="M428.689 191.591 423.4 214.51m-2.306-16.749h22.038m-4.747-6.17-5.289 22.919m-14.443-6.171h22.038m499.162-.625-4.316 5.183c-.919 1.104-2.703.703-3.062-.689l-5.698-22.137c-.421-1.637 1.479-2.871 2.803-1.82l18.088 14.351c1.126.893.767 2.687-.616 3.078l-7.199 2.034Zm0 0 7.258 11.446"
        />
        <path
          stroke="#6999FE"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2.644"
          d="m1094.16 414.255 25.71 25.714"
        />
        <path
          fill="#6999FE"
          fill-rule="evenodd"
          d="M1101.18 416.081a5.91 5.91 0 0 1 5.84-4.985c3.26 0 5.91 2.648 5.91 5.914v7.347a5.93 5.93 0 0 1-.69 2.785l-2.04-2.036c.06-.24.09-.491.09-.749v-7.347c0-1.806-1.47-3.27-3.27-3.27a3.267 3.267 0 0 0-3.27 3.27v1.643l-2.57-2.572Zm2.57 6.312-2.65-2.644v4.608a5.917 5.917 0 0 0 5.92 5.914c1.3 0 2.5-.419 3.47-1.13l-1.91-1.913a3.267 3.267 0 0 1-4.83-2.871v-1.964Zm-3.73 8.034a1.314 1.314 0 0 0-1.63-.914c-.7.197-1.11.927-.91 1.63 1.16 4.118 4.21 6.828 8.21 7.315v5.185c0 .73.6 1.322 1.33 1.322.73 0 1.32-.592 1.32-1.322v-5.185c2.97-.361 5.41-1.943 6.95-4.415l-1.94-1.937c-1.25 2.429-3.51 3.786-6.33 3.786-3.42 0-6.02-1.991-7-5.465Zm14.61-.79a1.319 1.319 0 0 1 1.92 1.506l-.09.327-1.83-1.833Z"
          clip-rule="evenodd"
        />
        <defs>
          <radialGradient
            id="a"
            cx="0"
            cy="0"
            r="1"
            gradientTransform="rotate(109.589 188.873 369.17) scale(690.852 1315.91)"
            gradientUnits="userSpaceOnUse"
          >
            <stop offset=".45" stop-color="#0051FF" />
            <stop offset="1" stop-color="#003199" />
            <stop offset="1" stop-color="#0957FF" />
          </radialGradient>
        </defs>
      </svg>
    ),
    {
      width: 1200,
      height: 630
    }
  );
}

export default async function handler(request: NextRequest) {
  const poppinsFontData = await fetch(
    new URL('../../assets/Poppins-Regular.ttf', import.meta.url)
  ).then(res => res.arrayBuffer());

  const poppinsSemiBoldFontData = await fetch(
    new URL('../../assets/Poppins-SemiBold.ttf', import.meta.url)
  ).then(res => res.arrayBuffer());

  const { searchParams } = request.nextUrl;
  const icon = searchParams.get('icon');
  const similarCount = searchParams.get('similar_count');
  const version = searchParams.get('version');
  const variant = searchParams.get('variant');
  const size = searchParams.get('size');

  if (!icon) {
    return DefaultResponse();
  }

  const iconMeta = Meta[icon];

  if (
    !iconMeta ||
    !variant ||
    !size ||
    variant !== 'standard' ||
    !['sm', 'base'].includes(size)
  ) {
    return DefaultResponse();
  }

  const svgBase64 = Buffer.from(iconMeta.variants[variant][size].svg).toString(
    'base64'
  );
  return new ImageResponse(
    (
      <div
        style={{
          height: '100%',
          width: '100%',
          display: 'flex',
          flexDirection: 'row',
          alignItems: 'center',
          justifyContent: 'center',
          backgroundColor: 'white',
          fontFamily: 'Poppins'
        }}
        tw="border-b-[15px] border-blue-600"
      >
        <div tw="flex flex-col w-1/2 px-24 py-20 h-full justify-between">
          <div tw="flex flex-col">
            <svg
              width="102"
              height="21"
              viewBox="0 0 102 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M0.176936 20.5743V1.05652H6.44647V20.5743H0.176936ZM24.1394 1.05652H31.9125L24.9053 9.08492L32.0543 20.5743H24.65L20.5933 13.4254L17.189 16.2055V20.5743H10.9195V1.05652H17.189V9.39698L24.1394 1.05652ZM43.2835 0.716089C46.65 0.716089 49.2505 1.57661 51.085 3.29766C52.9195 5.01871 53.8368 7.52463 53.8368 10.8154C53.8368 14.1062 52.9195 16.6121 51.085 18.3332C49.2505 20.0542 46.65 20.9148 43.2835 20.9148C39.9171 20.9148 37.3166 20.0637 35.4821 18.3616C33.6665 16.6405 32.7586 14.1251 32.7586 10.8154C32.7586 7.50572 33.6665 4.9998 35.4821 3.29766C37.3166 1.57661 39.9171 0.716089 43.2835 0.716089ZM43.2835 5.39696C41.9407 5.39696 40.9194 5.80358 40.2197 6.61683C39.5199 7.43007 39.17 8.527 39.17 9.90762V11.7232C39.17 13.1039 39.5199 14.2008 40.2197 15.014C40.9194 15.8273 41.9407 16.2339 43.2835 16.2339C44.6263 16.2339 45.6476 15.8273 46.3474 15.014C47.066 14.2008 47.4254 13.1039 47.4254 11.7232V9.90762C47.4254 8.527 47.066 7.43007 46.3474 6.61683C45.6476 5.80358 44.6263 5.39696 43.2835 5.39696ZM71.1704 20.5743L62.9718 11.0991V20.5743H57.2129V1.05652H62.6881L70.8867 10.6736V1.05652H76.6456V20.5743H71.1704ZM90.5466 0.716089C93.9131 0.716089 96.5135 1.57661 98.3481 3.29766C100.183 5.01871 101.1 7.52463 101.1 10.8154C101.1 14.1062 100.183 16.6121 98.3481 18.3332C96.5135 20.0542 93.9131 20.9148 90.5466 20.9148C87.1802 20.9148 84.5797 20.0637 82.7452 18.3616C80.9295 16.6405 80.0217 14.1251 80.0217 10.8154C80.0217 7.50572 80.9295 4.9998 82.7452 3.29766C84.5797 1.57661 87.1802 0.716089 90.5466 0.716089ZM90.5466 5.39696C89.2038 5.39696 88.1825 5.80358 87.4828 6.61683C86.783 7.43007 86.4331 8.527 86.4331 9.90762V11.7232C86.4331 13.1039 86.783 14.2008 87.4828 15.014C88.1825 15.8273 89.2038 16.2339 90.5466 16.2339C91.8894 16.2339 92.9107 15.8273 93.6105 15.014C94.3291 14.2008 94.6885 13.1039 94.6885 11.7232V9.90762C94.6885 8.527 94.3291 7.43007 93.6105 6.61683C92.9107 5.80358 91.8894 5.39696 90.5466 5.39696Z"
                fill="#0051FF"
              />
            </svg>

            <p tw="text-lg text-gray-400">
              Icons Created by<span tw="text-gray-600 ml-1">Will Kelly</span>
            </p>
          </div>
          <div tw="flex flex-col">
            <p tw="text-4xl -mb-2">{icon}</p>
            <p tw="text-2xl text-gray-300 tracking-tight">
              <span tw="text-gray-500">{variant} </span> /{' '}
              <span tw="text-gray-500"> {size}</span>
            </p>
          </div>
          <div tw="flex">
            {version && version.match(/^v\d+\.\d+\.\d+$/) && (
              <div tw="flex flex-col mr-24">
                <p tw="-mb-2 text-3xl">{version}</p>
                <p tw="text-gray-500">Version</p>
              </div>
            )}
            <div tw="flex flex-col mr-24">
              <p tw="-mb-2 text-3xl">MIT</p>
              <p tw="text-gray-500">Licence</p>
            </div>
            {similarCount && similarCount.match(/^\d+$/) && (
              <div tw="flex flex-col">
                <p tw="-mb-2 text-3xl">{similarCount}</p>
                <p tw="text-gray-500">Similar icons</p>
              </div>
            )}
          </div>
        </div>
        <div tw="flex w-1/2 justify-center items-center h-full">
          <div tw="flex border-[5px] border-solid border-blue-600 w-[200px] h-[200px] flex justify-center items-center">
            {/* eslint-disable-next-line @next/next/no-img-element */}
            <img
              src={`data:image/svg+xml;base64,${svgBase64}`}
              alt="Dynamic Image"
              width={40}
              height={40}
            />
          </div>
        </div>
      </div>
    ),
    {
      width: 1200,
      height: 630,
      fonts: [
        {
          name: 'Poppins',
          data: poppinsFontData,
          style: 'normal'
        },
        {
          name: 'Poppins',
          data: poppinsSemiBoldFontData,
          style: 'normal',
          weight: 400
        }
      ]
    }
  );
}
